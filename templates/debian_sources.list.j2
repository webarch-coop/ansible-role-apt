# {{ ansible_managed }}
{% if apt_distro is regex('bullseye|buster|stretch') %}
# Debian {{ apt_distro }} repos
deb https://deb.debian.org/debian {{ apt_distro }} {% for comp in apt_debian_components %}{{ comp }}{% if not loop.last %} {% endif %}{% endfor %}

{% if apt_distro == 'bullseye' %}
deb https://security.debian.org/debian-security {{ apt_distro }}-security {% for comp in apt_debian_components %}{{ comp }}{% if not loop.last %} {% endif %}{% endfor %}
{% elif apt_distro is regex('buster|stretch') %}

deb https://deb.debian.org/debian-security {{ apt_distro }}/updates {% for comp in apt_debian_components %}{{ comp }}{% if not loop.last %} {% endif %}{% endfor %}

{% if apt_backports %}
deb https://deb.debian.org/debian {{ apt_distro }}-backports main
{% endif %}
{% endif %}
{% if apt_src %}
# Debian {{ apt_distro }} source repos
deb-src https://deb.debian.org/debian {{ apt_distro }} {% for comp in apt_debian_components %}{{ comp }}{% if not loop.last %} {% endif %}{% endfor %}

deb-src https://deb.debian.org/debian-security {{ apt_distro }}/updates {% for comp in apt_debian_components %}{{ comp }}{% if not loop.last %} {% endif %}{% endfor %}

{% if apt_backports %}
deb-src https://deb.debian.org/debian {{ apt_distro }}-backports main
{% endif %}
{% endif %}
{% elif apt_distro == 'jessie' %}
# Debian Jessie repos
deb http://deb.debian.org/debian jessie {% for comp in apt_debian_components %}{{ comp }}{% if not loop.last %} {% endif %}{% endfor %}

deb http://security.debian.org/ jessie/updates {% for comp in apt_debian_components %}{{ comp }}{% if not loop.last %} {% endif %}{% endfor %}

{% endif %}
# vim: ft=debsources
